cscope 15 $HOME/kernel-build/rangeLockModule               0000014387
	@f3fs_range_lock_mod.c

1 
	~<löux/moduÀ.h
>

2 
	~<löux/öô.h
>

3 
	~<löux/kî√l.h
>

4 
	~<löux/¶ab.h
>

5 
	~<löux/li°.h
>

6 
	~<löux/kthªad.h
>

7 
	~<löux/dñay.h
>

8 
	~<löux/ty≥s.h
>

9 
	~<löux/î∫o.h
>

10 
	~<löux/¥ötk.h
>

12 
	~"lock‰ì_li°.h
"

14 
LIST_HEAD
(
ã°_w‹kîs
);

16 
ã°0_thªad1
(*
d©a
);

18 
__öô
 
	$ã°_lock‰ì_ønge_lock_mod_öô
()

21 
ƒ_w‹kîs
 = 3;

23 
i
;

24 
Li°RL
 *
li°_æ
 = 
	`kmÆloc
((Li°RL), 
GFP_KERNEL
);

26 
	`¥_öfo
("Lock-‰ìÑ™gêlock moduÀÜﬂdög: %d w‹kîs\n", 
ƒ_w‹kîs
);

28 
i
 = 0; i < 
ƒ_w‹kîs
; i++) {

29 
ã°_w‹kî
 *
w‹kî
 = 
	`kmÆloc
((ã°_w‹kî), 
GFP_KERNEL
);

30 i‡(!
w‹kî
) {

31 
	`¥_îr
("FaûedÅÿÆloˇã mem‹y f‹ w‹kî %d\n", 
i
);

34 
w‹kî
->
w‹kî_id
 = 
i
;

35 
w‹kî
->
ønge_°¨t
 = (2 * 
i
Ë% 
ƒ_w‹kîs
;

36 
w‹kî
->
ønge_íd
 = (2 * 
i
 + 1Ë% 
ƒ_w‹kîs
;

37 
w‹kî
->
èsk
 = 
	`kthªad_run
(
ã°0_thªad1
, w‹kî, "lf_li°-w‹kî%d", 
i
);

38 i‡(
	`IS_ERR
(
w‹kî
->
èsk
)) {

39 
	`k‰ì
(
w‹kî
);

40 
	`¥_îr
("W‹kî %d faûedÅÿ°¨t.\n", 
i
);

43 
w‹kî
->
li°_æ
 =Üist_rl;

44 
	`li°_add_èû
(&
w‹kî
->
w‹kî_li°
, &
ã°_w‹kîs
);

45 
	`¥_öfo
("Suc˚ssfuŒyádded w‹kî %d i¿ã°_w‹kî†li°\n", 
i
);

48 
	`¥_öfo
("Lock-freeÑangeÜock module successfullyÜoaded.\n");

50 
	}
}

52 
	$ã°_lock‰ì_ønge_lock_mod_˛ónup
()

54 
ã°_w‹kî
 *
w‹kî
, *
tmp
;

55 
Li°RL
 *
li°_æ
 = 
NULL
;

56 
	`li°_f‹_óch_íåy_ß„
(
w‹kî
, 
tmp
, &
ã°_w‹kîs
, 
w‹kî_li°
) {

57 
	`kthªad_°›
(
w‹kî
->
èsk
);

58 
	`li°_dñ
(&
w‹kî
->
w‹kî_li°
);

59 i‡(!
li°_æ
)

60 
li°_æ
 = 
w‹kî
->list_rl;

61 
	`k‰ì
(
w‹kî
);

63 
	`k‰ì
(
li°_æ
);

64 
	`¥_öfo
("Lock-freeÑangeÜock module successfullyÑemoved.\n");

65 
	}
}

67 
moduÀ_öô
(
ã°_lock‰ì_ønge_lock_mod_öô
);

68 
moduÀ_exô
(
ã°_lock‰ì_ønge_lock_mod_˛ónup
);

70 
MODULE_AUTHOR
("Sanglok Lee");

71 
MODULE_DESCRIPTION
("Lock-freeÑangeÜock module");

72 
MODULE_LICENSE
("GPL");

	@lockfree_list.c

1 
	~"lock‰ì_li°.h
"

2 
	~<löux/kthªad.h
>

3 
	~<löux/dñay.h
>

4 
	~<asm/cmpxchg.h
>

6 
	#TRY_ONCE
 
Ál£


	)

8 
li°_hód
 
ã°_w‹kîs
;

10 
DñëeNode
(
LNode
* 
lock
);

12 
	$de„ºed_‰ì_rcu
(
rcu_hód
 *
rcu
)

14 
LNode
* 
node
 = 
	`c⁄èöî_of
(
rcu
, LNode,Ñcu);

15 
	`k‰ì
(
node
);

16 
	}
}

18 
LNode
* 
	$InôNode
(
°¨t
, 
íd
, 
boﬁ
 
wrôî
)

20 
LNode
* 
ªt
 = 
	`kmÆloc
((LNode), 
GFP_KERNEL
);

21 
ªt
->
°¨t
 = start;

22 
ªt
->
íd
 =Énd;

23 
ªt
->
√xt
 = 
NULL
;

24 
ªt
->
ªadî
 = !
wrôî
;

25  
ªt
;

26 
	}
}

28 
boﬁ
 
	$m¨ked
(vﬁ©ûê
LNode
* 
node
){

29  ()(
node
) & 0x1;

30 
	}
}

32 
LNode
* 
	$unm¨k
(vﬁ©ûê
LNode
* 
node
)

34  (
LNode
*)(()(
node
) & 0xFFFFFFFFFFFFFFFE);

35 
	}
}

37 
	$r_vÆid©e
(
LNode
* 
lock
, 
boﬁ
 
åy_⁄˚
)

39 vﬁ©ûê
LNode
** 
¥ev
 = &
lock
->
√xt
;

41 
LNode
* 
cur
 = 
	`unm¨k
(
	`rcu_dîe„ªn˚
(*
¥ev
));

42 
åue
) {

43 i‡(!
cur
) {

46 i‡(
cur
 =
lock
) {

49 i‡(
	`m¨ked
(
cur
->
√xt
)) {

50 
LNode
* 
√xt
 = 
	`unm¨k
(
cur
->next);

51 i‡(
	`cmpxchg
(
¥ev
, 
cur
, 
√xt
) == cur) {

54 
	`ˇŒ_rcu
(&
cur
->
rcu
, 
de„ºed_‰ì_rcu
);

56 
cur
 = 
√xt
;

57 } i‡(
cur
->
ªadî
) {

58 
¥ev
 = &
cur
->
√xt
;

59 
cur
 = 
	`unm¨k
(*
¥ev
);

61 i‡(
åy_⁄˚
) {

64 !
	`m¨ked
(
cur
->
√xt
)) {

65 
	`c⁄d_ªsched
();

68 
cur
 = 
	`rcu_dîe„ªn˚
(*
¥ev
);

72 
	}
}

74 
	$w_vÆid©e
(vﬁ©ûê
LNode
** 
li°æ
, LNode* 
lock
)

76 vﬁ©ûê
LNode
** 
¥ev
 = 
li°æ
;

77 
LNode
* 
cur
 = 
	`unm¨k
(
	`rcu_dîe„ªn˚
(*
¥ev
));

78 
åue
) {

79 i‡(!
cur
) {

82 i‡(
cur
 =
lock
) {

85 i‡(
	`m¨ked
(
cur
->
√xt
)) {

86 
LNode
* 
√xt
 = 
	`unm¨k
(
cur
->next);

87 i‡(
	`cmpxchg
(
¥ev
, 
cur
, 
√xt
) == cur) {

90 
	`ˇŒ_rcu
(&
cur
->
rcu
, 
de„ºed_‰ì_rcu
);

92 
cur
 = 
√xt
;

94 i‡(
cur
->
íd
 <
lock
->
°¨t
) {

95 
¥ev
 = &
cur
->
√xt
;

96 
cur
 = 
	`unm¨k
(
	`rcu_dîe„ªn˚
(*
¥ev
));

98 
	`DñëeNode
(
lock
);

103 
	}
}

105 
	$com∑ªRW
(
LNode
* 
lock1
, LNode* 
lock2
)

107 i‡(!
lock1
) {

110 
ªadîs
 = 
lock1
->
ªadî
 + 
lock2
->reader;

111 i‡(
lock2
->
°¨t
 >
lock1
->
íd
) {

114 i‡(
lock2
->
°¨t
 >
lock1
->°¨à&& 
ªadîs
 == 2) {

117 i‡(
lock1
->
°¨t
 >
lock2
->
íd
) {

120 i‡(
lock1
->
°¨t
 >
lock2
->°¨à&& 
ªadîs
 == 2) {

125 
	}
}

127 
	$In£πNodeRW
(vﬁ©ûê
LNode
** 
li°æ
, LNode* 
lock
, 
boﬁ
 
åy_⁄˚
)

129 
	`rcu_ªad_lock
();

130 
åue
) {

131 
	`¥ötk
("[%s](%uËi‡1\n", 
__func__
, 
	`smp_¥o˚ss‹_id
());

132 vﬁ©ûê
LNode
** 
¥ev
 = 
li°æ
;

133 
LNode
* 
cur
 = 
	`rcu_dîe„ªn˚
(*
¥ev
);

134 
åue
) {

135 
	`¥ötk
("[%s](%uËi‡2\n", 
__func__
, 
	`smp_¥o˚ss‹_id
());

136 i‡(
	`m¨ked
(
cur
)){

137 
	`¥ötk
("[%s](%uËi‡3\n", 
__func__
, 
	`smp_¥o˚ss‹_id
());

141 i‡(
cur
 && 
	`m¨ked
(cur->
√xt
)) {

142 
	`¥ötk
("[%s](%uËi‡4\n", 
__func__
, 
	`smp_¥o˚ss‹_id
());

143 
LNode
* 
√xt
 = 
	`unm¨k
(
cur
->next);

144 i‡(
	`cmpxchg
(
¥ev
, 
cur
, 
√xt
) == cur) {

147 
	`ˇŒ_rcu
(&
cur
->
rcu
, 
de„ºed_‰ì_rcu
);

149 
cur
 = 
√xt
;

152 
ªt
 = 
	`com∑ªRW
(
cur
, 
lock
);

156 i‡(
ªt
 == -1) {

157 
¥ev
 = &
cur
->
√xt
;

158 
cur
 = 
	`rcu_dîe„ªn˚
(*
¥ev
);

159 } i‡(
ªt
 == 0) {

160 i‡(
åy_⁄˚
) {

161 
	`rcu_ªad_u∆ock
();

164 !
	`m¨ked
(
cur
->
√xt
)) {

165 
cur
 = 
	`rcu_dîe„ªn˚
(*
¥ev
);

167 } i‡(
ªt
 == 1) {

168 
lock
->
√xt
 = 
cur
;

169 i‡(
	`cmpxchg
(
¥ev
, 
cur
, 
lock
) == cur) {

171 
ªt
 = 0;

172 i‡(
lock
->
ªadî
) {

173 
ªt
 = 
	`r_vÆid©e
(
lock
, 
åy_⁄˚
);

175 
ªt
 = 
	`w_vÆid©e
(
li°æ
, 
lock
);

177 
	`rcu_ªad_u∆ock
();

178  
ªt
;

180 
cur
 = 
	`rcu_dîe„ªn˚
(*
¥ev
);

186 
	`rcu_ªad_u∆ock
();

188 
	}
}

190 
R™geLock
* 
	$RWR™geAcquúe
(
Li°RL
* 
li°_æ
,

191 
°¨t
, 
íd
, 
boﬁ
 
wrôî
)

193 
R™geLock
* 
æ
 = 
	`kmÆloc
((R™geLock), 
GFP_KERNEL
);

194 
ªt
 = 0;

195 #i‡
HASH_MODE


196 i‡(
íd
 =
MAX_SIZE
) {

197 
	`as£π
(
°¨t
 == 0);

198 
æ
->
buckë
 = 
ALL_RANGE
;

199 
i
 = 0 ; i < 
BUCKET_CNT
 ; i++) {

200 
æ
->
node
[
i
] = 
	`InôNode
(0, 
MAX_SIZE
, 
wrôî
);

202 
ªt
 = 
	`In£πNodeRW
(&
li°_æ
->
hód
[
i
], 
æ
->
node
[i], 
TRY_ONCE
);

203 } 
ªt
);

206 
i
 = 
°¨t
 % 
BUCKET_CNT
;

207 
	`as£π
(
°¨t
 + 1 =
íd
);

208 
æ
->
buckë
 = 
i
;

209 
æ
->
node
[
i
] = 
	`InôNode
(
°¨t
, 
íd
, 
wrôî
);

211 
ªt
 = 
	`In£πNodeRW
(&
li°_æ
->
hód
[
i
], 
æ
->
node
[i], 
TRY_ONCE
);

212 } 
ªt
);

214  
æ
;

216 
æ
->
node
 = 
	`InôNode
(
°¨t
, 
íd
, 
wrôî
);

218 
ªt
 = 
	`In£πNodeRW
(&
li°_æ
->
hód
, 
æ
->
node
, 
TRY_ONCE
);

219 } 
ªt
);

221  
æ
;

223 
	}
}

225 
	$DñëeNode
(
LNode
* 
lock
)

227 
åue
) {

228 vﬁ©ûê
LNode
* 
‹ig
 = 
lock
->
√xt
;

229 
m¨ked
 = ()
‹ig
 + 1;

230 i‡(
	`cmpxchg
(&
lock
->
√xt
, 
‹ig
, (
LNode
*)
m¨ked
) == orig) {

234 
	}
}

236 
	$MuãxR™geRñó£
(
R™geLock
* 
æ
)

238 #i‡
HASH_MODE


239 i‡(
æ
->
buckë
 =
ALL_RANGE
) {

240 
i
 = 0 ; i < 
BUCKET_CNT
 ; i++) {

241 
	`DñëeNode
(
æ
->
node
[
i
]);

244 
	`DñëeNode
(
æ
->
node
[æ->
buckë
]);

246 
	`k‰ì
(
æ
);

248 
	`DñëeNode
(
æ
->
node
);

249 
	`k‰ì
(
æ
);

251 
	}
}

253 
	$ã°0_thªad1
(*
d©a
)

255 
ã°_w‹kî
 *
w‹kî
 = 
d©a
;

257 
R™geLock
* 
lock
;

258 
ønge_°¨t
 = 
w‹kî
->range_start;

259 
ønge_íd
 = 
w‹kî
->range_end;

260 
cou¡
 = 0;

261 !
	`kthªad_should_°›
()) {

262 if(
	`m¶ìp_öãºu±ibÀ
(500)){

266 
boﬁ
 
ªadî
 = (
	`gë_øndom_u32
() % 2) == 0;

267 
lock
 = 
	`RWR™geAcquúe
(
w‹kî
->
li°_æ
, 
ønge_°¨t
, 
ønge_íd
, 
ªadî
);

269 
	`BUG_ON
(!
lock
);

270 
	`¥_öfo
("[w‹kî %d] In£πedÇode‘™ge: %d - %d, %s)\n", 
w‹kî
->
w‹kî_id
, 
ønge_°¨t
, 
ønge_íd
, 
lock
->
node
->
ªadî
 ? "reader" : "writer");

272 if(
	`m¶ìp_öãºu±ibÀ
(1000)){

276 
	`¥_öfo
("[w‹kî %d] DñëögÇode‘™ge: %d - %d, %s)\n", 
w‹kî
->
w‹kî_id
, 
ønge_°¨t
, 
ønge_íd
, 
lock
->
node
->
ªadî
 ? "reader" : "writer");

277 
	`MuãxR™geRñó£
(
lock
);

278 
cou¡
++;

280 if(
	`m¶ìp_öãºu±ibÀ
(1000)){

284 
	`¥_öfo
("[w‹kî %d]Üock cy˛e†com∂ëed: %d\n", 
w‹kî
->
w‹kî_id
, 
cou¡
);

286 
	}
}

	@lockfree_list.h

1 #i‚de‡
LOCKFREE_LIST_H


2 
	#LOCKFREE_LIST_H


	)

4 
	~<löux/li°.h
>

5 
	~<löux/¶ab.h
>

6 
	~<löux/˝umask.h
>

7 
	~<löux/sched.h
>

9 
	#HASH_MODE
 0

	)

10 
	#IN_KERNEL2
 1

	)

12 
	#LIST_HEAD
(
«me
Ë
li°_hód
Çamê
	`LIST_HEAD_INIT
“ame)

	)

14 
	sLNode
 {

15 
	m°¨t
;

16 
	míd
;

17 vﬁ©ûê
LNode
* 
	m√xt
;

18 
	mªadî
;

19 #i‡
IN_KERNEL2


20 
rcu_hód
 
	mrcu
;

24 
	sLi°RL
 {

25 #i‡
HASH_MODE


26 vﬁ©ûê
LNode
* 
	mhód
[
BUCKET_CNT
];

28 vﬁ©ûê
LNode
* 
	mhód
;

33 
	sR™geLock
 {

34 #i‡
HASH_MODE


35 
LNode
* 
	mnode
[
BUCKET_CNT
];

36 
	mbuckë
;

38 
LNode
* 
	mnode
;

42 
	sã°_w‹kî
 {

43 
	mønge_°¨t
;

44 
	mønge_íd
;

45 
Li°RL
 *
	mli°_æ
;

46 
	mw‹kî_id
;

47 
èsk_°ru˘
 *
	mèsk
;

48 
li°_hód
 
	mw‹kî_li°
;

	@/usr/include/linux/errno.h

1 
	~<asm/î∫o.h
>

	@/usr/include/linux/kernel.h

2 #i‚de‡
_LINUX_KERNEL_H


3 
	#_LINUX_KERNEL_H


	)

5 
	~<löux/sysöfo.h
>

6 
	~<löux/c⁄°.h
>

	@/usr/include/linux/module.h

2 #i‚de‡
_LINUX_MODULE_H


3 
	#_LINUX_MODULE_H


	)

6 
	#MODULE_INIT_IGNORE_MODVERSIONS
 1

	)

7 
	#MODULE_INIT_IGNORE_VERMAGIC
 2

	)

	@/usr/include/linux/sched.h

2 #i‚de‡
_LINUX_SCHED_H


3 
	#_LINUX_SCHED_H


	)

5 
	~<löux/ty≥s.h
>

10 
	#CSIGNAL
 0x000000f‡

	)

11 
	#CLONE_VM
 0x00000100

	)

12 
	#CLONE_FS
 0x00000200

	)

13 
	#CLONE_FILES
 0x00000400

	)

14 
	#CLONE_SIGHAND
 0x00000800

	)

15 
	#CLONE_PIDFD
 0x00001000

	)

16 
	#CLONE_PTRACE
 0x00002000

	)

17 
	#CLONE_VFORK
 0x00004000

	)

18 
	#CLONE_PARENT
 0x00008000

	)

19 
	#CLONE_THREAD
 0x00010000

	)

20 
	#CLONE_NEWNS
 0x00020000

	)

21 
	#CLONE_SYSVSEM
 0x00040000

	)

22 
	#CLONE_SETTLS
 0x00080000

	)

23 
	#CLONE_PARENT_SETTID
 0x00100000

	)

24 
	#CLONE_CHILD_CLEARTID
 0x00200000

	)

25 
	#CLONE_DETACHED
 0x00400000

	)

26 
	#CLONE_UNTRACED
 0x00800000

	)

27 
	#CLONE_CHILD_SETTID
 0x01000000

	)

28 
	#CLONE_NEWCGROUP
 0x02000000

	)

29 
	#CLONE_NEWUTS
 0x04000000

	)

30 
	#CLONE_NEWIPC
 0x08000000

	)

31 
	#CLONE_NEWUSER
 0x10000000

	)

32 
	#CLONE_NEWPID
 0x20000000

	)

33 
	#CLONE_NEWNET
 0x40000000

	)

34 
	#CLONE_IO
 0x80000000

	)

37 
	#CLONE_CLEAR_SIGHAND
 0x100000000ULL

	)

38 
	#CLONE_INTO_CGROUP
 0x200000000ULL

	)

44 
	#CLONE_NEWTIME
 0x00000080

	)

46 #i‚de‡
__ASSEMBLY__


92 
	s˛⁄e_¨gs
 {

93 
__Æig√d_u64
 
	mÊags
;

94 
__Æig√d_u64
 
	mpidfd
;

95 
__Æig√d_u64
 
	mchûd_tid
;

96 
__Æig√d_u64
 
	m∑ª¡_tid
;

97 
__Æig√d_u64
 
	mexô_sig«l
;

98 
__Æig√d_u64
 
	m°ack
;

99 
__Æig√d_u64
 
	m°ack_size
;

100 
__Æig√d_u64
 
	més
;

101 
__Æig√d_u64
 
	m£t_tid
;

102 
__Æig√d_u64
 
	m£t_tid_size
;

103 
__Æig√d_u64
 
	mcgroup
;

107 
	#CLONE_ARGS_SIZE_VER0
 64

	)

108 
	#CLONE_ARGS_SIZE_VER1
 80

	)

109 
	#CLONE_ARGS_SIZE_VER2
 88

	)

114 
	#SCHED_NORMAL
 0

	)

115 
	#SCHED_FIFO
 1

	)

116 
	#SCHED_RR
 2

	)

117 
	#SCHED_BATCH
 3

	)

119 
	#SCHED_IDLE
 5

	)

120 
	#SCHED_DEADLINE
 6

	)

123 
	#SCHED_RESET_ON_FORK
 0x40000000

	)

128 
	#SCHED_FLAG_RESET_ON_FORK
 0x01

	)

129 
	#SCHED_FLAG_RECLAIM
 0x02

	)

130 
	#SCHED_FLAG_DL_OVERRUN
 0x04

	)

131 
	#SCHED_FLAG_KEEP_POLICY
 0x08

	)

132 
	#SCHED_FLAG_KEEP_PARAMS
 0x10

	)

133 
	#SCHED_FLAG_UTIL_CLAMP_MIN
 0x20

	)

134 
	#SCHED_FLAG_UTIL_CLAMP_MAX
 0x40

	)

136 
	#SCHED_FLAG_KEEP_ALL
 (
SCHED_FLAG_KEEP_POLICY
 | \

137 
SCHED_FLAG_KEEP_PARAMS
)

	)

139 
	#SCHED_FLAG_UTIL_CLAMP
 (
SCHED_FLAG_UTIL_CLAMP_MIN
 | \

140 
SCHED_FLAG_UTIL_CLAMP_MAX
)

	)

142 
	#SCHED_FLAG_ALL
 (
SCHED_FLAG_RESET_ON_FORK
 | \

143 
SCHED_FLAG_RECLAIM
 | \

144 
SCHED_FLAG_DL_OVERRUN
 | \

145 
SCHED_FLAG_KEEP_ALL
 | \

146 
SCHED_FLAG_UTIL_CLAMP
)

	)

	@/usr/include/linux/types.h

2 #i‚de‡
_LINUX_TYPES_H


3 
	#_LINUX_TYPES_H


	)

5 
	~<asm/ty≥s.h
>

7 #i‚de‡
__ASSEMBLY__


9 
	~<löux/posix_ty≥s.h
>

17 #ifde‡
__CHECKER__


18 
	#__bôwi£__
 
	`__©åibuã__
((
bôwi£
))

	)

20 
	#__bôwi£__


	)

22 
	#__bôwi£
 
__bôwi£__


	)

24 
__u16
 
	t__bôwi£
 
	t__À16
;

25 
__u16
 
	t__bôwi£
 
	t__be16
;

26 
__u32
 
	t__bôwi£
 
	t__À32
;

27 
__u32
 
	t__bôwi£
 
	t__be32
;

28 
__u64
 
	t__bôwi£
 
	t__À64
;

29 
__u64
 
	t__bôwi£
 
	t__be64
;

31 
__u16
 
	t__bôwi£
 
	t__sum16
;

32 
__u32
 
	t__bôwi£
 
	t__wsum
;

43 
	#__Æig√d_u64
 
__u64
 
	`__©åibuã__
((
	`Æig√d
(8)))

	)

44 
	#__Æig√d_be64
 
__be64
 
	`__©åibuã__
((
	`Æig√d
(8)))

	)

45 
	#__Æig√d_À64
 
__À64
 
	`__©åibuã__
((
	`Æig√d
(8)))

	)

47 
	t__bôwi£
 
	t__pﬁl_t
;

	@/usr/include/linux/const.h

4 #i‚de‡
_LINUX_CONST_H


5 
	#_LINUX_CONST_H


	)

16 #ifde‡
__ASSEMBLY__


17 
	#_AC
(
X
,
Y
Ë
	)
X

18 
	#_AT
(
T
,
X
Ë
	)
X

20 
	#__AC
(
X
,
Y
Ë(X##Y)

	)

21 
	#_AC
(
X
,
Y
Ë
	`__AC
(X,Y)

	)

22 
	#_AT
(
T
,
X
Ë((T)(X))

	)

25 
	#_UL
(
x
Ë(
	`_AC
(x, 
UL
))

	)

26 
	#_ULL
(
x
Ë(
	`_AC
(x, 
ULL
))

	)

28 
	#_BITUL
(
x
Ë(
	`_UL
(1Ë<< (x))

	)

29 
	#_BITULL
(
x
Ë(
	`_ULL
(1Ë<< (x))

	)

31 
	#__ALIGN_KERNEL
(
x
, 
a
Ë
	`__ALIGN_KERNEL_MASK
(x, (
	`__ty≥of__
(x))◊Ë- 1)

	)

32 
	#__ALIGN_KERNEL_MASK
(
x
, 
mask
Ë(((xË+ (mask)Ë& ~(mask))

	)

34 
	#__KERNEL_DIV_ROUND_UP
(
n
, 
d
Ë((“Ë+ (dË- 1Ë/ (d))

	)

	@/usr/include/linux/posix_types.h

2 #i‚de‡
_LINUX_POSIX_TYPES_H


3 
	#_LINUX_POSIX_TYPES_H


	)

5 
	~<löux/°ddef.h
>

22 #unde‡
__FD_SETSIZE


23 
	#__FD_SETSIZE
 1024

	)

26 
	mfds_bôs
[
__FD_SETSIZE
 / (8 * ())];

27 } 
	t__kî√l_fd_£t
;

30 (*
	t__kî√l_sigh™dÀr_t
)();

33 
	t__kî√l_key_t
;

34 
	t__kî√l_mqd_t
;

36 
	~<asm/posix_ty≥s.h
>

	@/usr/include/linux/sysinfo.h

2 #i‚de‡
_LINUX_SYSINFO_H


3 
	#_LINUX_SYSINFO_H


	)

5 
	~<löux/ty≥s.h
>

7 
	#SI_LOAD_SHIFT
 16

	)

8 
	ssysöfo
 {

9 
__kî√l_l⁄g_t
 
	mu±ime
;

10 
__kî√l_ul⁄g_t
 
	mlﬂds
[3];

11 
__kî√l_ul⁄g_t
 
	mtŸÆøm
;

12 
__kî√l_ul⁄g_t
 
	m‰ìøm
;

13 
__kî√l_ul⁄g_t
 
	msh¨edøm
;

14 
__kî√l_ul⁄g_t
 
	mbuf„ºam
;

15 
__kî√l_ul⁄g_t
 
	mtŸÆsw≠
;

16 
__kî√l_ul⁄g_t
 
	m‰ìsw≠
;

17 
__u16
 
	m¥ocs
;

18 
__u16
 
	m∑d
;

19 
__kî√l_ul⁄g_t
 
	mtŸÆhigh
;

20 
__kî√l_ul⁄g_t
 
	m‰ìhigh
;

21 
__u32
 
	mmem_unô
;

22 
	m_f
[20-2*(
__kî√l_ul⁄g_t
)-(
__u32
)];

	@/usr/include/linux/stddef.h

2 #i‚de‡
_LINUX_STDDEF_H


3 
	#_LINUX_STDDEF_H


	)

7 #i‚de‡
__Æways_ölöe


8 
	#__Æways_ölöe
 
__ölöe__


	)

26 
	#__°ru˘_group
(
TAG
, 
NAME
, 
ATTRS
, 
MEMBERS
...) \

28 °ru˘ { 
MEMBERS
 } 
ATTRS
; \

29 
	sTAG
 { 
MEMBERS
 } 
ATTRS
 
NAME
; \

30 } 
ATTRS


	)

42 
	#__DECLARE_FLEX_ARRAY
(
TYPE
, 
NAME
) \

44 °ru˘ { } 
__em±y_
 ## 
NAME
; \

45 
TYPE
 
NAME
[]; \

46 }

	)

	@
1
.
1
/usr/include
12
308
f3fs_range_lock_mod.c
lockfree_list.c
lockfree_list.h
/usr/include/linux/errno.h
/usr/include/linux/kernel.h
/usr/include/linux/module.h
/usr/include/linux/sched.h
/usr/include/linux/types.h
/usr/include/linux/const.h
/usr/include/linux/posix_types.h
/usr/include/linux/sysinfo.h
/usr/include/linux/stddef.h
